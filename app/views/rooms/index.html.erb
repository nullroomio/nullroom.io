<%# ── Landing Page ─────────────────────────────────────────────────────── %>
<div class="relative w-full min-h-screen flex flex-col" data-controller="landing">

  <%# ── Top nav bar ──────────────────────────────────────────────────── %>
  <header class="flex items-center justify-between px-6 py-5">
    <%= render "shared/logo", size: "md" %>
    <span class="flex items-center gap-2 text-xs font-mono text-signal-green">
      <span class="w-2 h-2 rounded-full bg-signal-green animate-pulse"></span>
      Zero-Trace Active
    </span>
  </header>

  <%# ── Hero ────────────────────────────────────────────────────────── %>
  <section class="flex-1 flex flex-col items-center justify-center px-6 py-12 text-center">
    <h1 class="font-sans font-semibold text-trace-white text-4xl md:text-5xl leading-tight tracking-tight max-w-2xl">
      The Conversation That Never Happened.
    </h1>
    <p class="mt-4 text-secure-gray text-base md:text-lg max-w-md leading-relaxed">
      Peer-to-peer, E2EE messaging with no logs, no accounts, and no server memory.
    </p>

    <%# ── Glass card ──────────────────────────────────────────────────── %>
    <div class="glass mt-10 w-full max-w-sm px-8 py-8 flex flex-col items-center gap-5">

      <%# ── Beta file transfer badge ────────────────────────────────────── %>
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-emerald-500/30 bg-emerald-500/10 backdrop-blur-md">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
        </span>
        <span class="text-[10px] font-mono font-bold uppercase tracking-widest text-emerald-500">
          Beta: P2P File Transfers (Max 24&nbsp;MB)
        </span>
      </div>

      <span class="font-mono text-xs text-secure-gray tracking-widest">// INITIALIZE_SESSION</span>

      <%# Create Room button — all Stimulus targets/actions preserved %>
      <button
        data-action="landing#createRoom"
        data-state="idle"
        class="w-full px-6 py-3 rounded-lg bg-status-blue text-white font-sans font-semibold text-base hover:brightness-110 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-status-blue"
      >
        <span data-landing-target="buttonText">Create Secure Room</span>
      </button>

      <span class="font-mono text-xs text-secure-gray tracking-widest uppercase">Peer_to_Peer_Encryption_Enabled</span>

      <%# Three pillars %>
      <div class="flex items-start justify-around w-full pt-2 border-t border-white/8">
        <div class="flex flex-col items-center gap-2 text-secure-gray mt-2">
          <%= render "shared/icon", name: "shield-off", css: "w-6 h-6" %>
          <span class="text-xs font-sans">No Logs</span>
        </div>
        <div class="flex flex-col items-center gap-2 text-secure-gray mt-2">
          <%= render "shared/icon", name: "lock-e2ee", css: "w-6 h-6" %>
          <span class="text-xs font-sans">E2EE</span>
        </div>
        <div class="flex flex-col items-center gap-2 text-secure-gray mt-2">
          <%= render "shared/icon", name: "clock", css: "w-6 h-6" %>
          <span class="text-xs font-sans">Ephemeral</span>
        </div>
      </div>
    </div>

    <%# Error message (hidden by default) — Stimulus target preserved %>
    <div
      data-landing-target="errorContainer"
      class="hidden mt-4 w-full max-w-sm text-red-400 text-sm font-mono px-4 py-3 rounded-lg bg-red-950/50 border border-red-800/50"
    >
      <span data-landing-target="errorMessage"></span>
    </div>

    <%# Footer link %>
    <div class="mt-8">
      <%= link_to "Privacy Policy · FAQ", privacy_page_path,
            class: "text-secure-gray hover:text-trace-white transition-colors text-xs font-mono",
            rel: "noreferrer" %>
    </div>
  </section>

  <%# ── Brand sparkle mark ─────────────────────────────────────────── %>
  <div class="fixed bottom-6 right-6 text-trace-white/20 pointer-events-none" aria-hidden="true">
    <%= render "shared/icon", name: "sparkle", css: "w-8 h-8" %>
  </div>

</div>
